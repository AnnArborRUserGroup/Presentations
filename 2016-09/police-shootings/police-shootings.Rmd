---
title: "(R)Stan & Police Shootings: Using a Bayesian Tool to Understand a Real World Problem"
subtitle: "Ann Arbor R User Group"
author: "Daniel Kessler"
date: "Sept 13, 2016"
output:
  ioslides_presentation:
    widescreen: yes
    incremental: yes
---

## Who I am
- Neuroscience Researcher @UMich
- Study brain connectivity & psychiatric disorders
- twitter: @dankessler
- web: www.dankessler.me
- I use R for data rangling and behavioral/fancier analyses (e.g. mixed effects)
- New to Stan and Police Shooting data

## Who I am *not*
- Sociologist/Demographer
- Expert on Stan
- Bayesian 
- Person of Color
- Police Officer

## What to Expect
- Review Cody Ross's Method & Finding
- Introduce Stan
- Anatomy of a Stan program
- Alternative Model for Police Shootings
- Our very tentative results


# Background

## The Problem
<img src="Picture2.png" style="float:right;" width=125px>
<img src="Picture1.png" style="float:right;" width=400px>
The US has recently witnessed a number of high-profile deaths of African-Americans at the hands of police.
<br>
<br>
<br>
<br>
<img src="Picture3.png" style="float:right;" width=400px>
There is a pressing need to study this phenomenon quantitatively. Why?

- Case reports are insufficient and could even be misleading
- Better understand the causes
- Help shape solutions

## An Important Step Forward
<img src="Picture4.png" style="float:right;" width=150px>
A Multi-Level Bayesian Analysis of Racial Bias in Police Shootings at the County-Level in the United States, 2011-2014
Cody T. Ross*

US Police-Shooting Database (USPSD)

- crowd-sourced database
- covers years 2011-2014
- n=721

##Ross' Two Step Modeling Strategy

For each county i, let $C_{i}$ be the ratio of: $\frac{P(killed_{unarmed} | black)}{P(killed_{unarmed} | white)}$

- Step 1: Use Bayesian methods to estimate the $C_{i}$'s
- Step 2: Use Bayesian methods to examine the effects of county-level covariates in accounting for variance in the $C_{i}$'s

<br>
<br>
<br>
<br>
```
Ross, C. T. (2015). A Multi-Level Bayesian Analysis of Racial Bias in Police Shootings
at the County-Level in the United States, 2011-2014. PLoS ONE, 10(11), e0141854-34
```

## Key Results
1. Unarmed black civilians are 3.49 times as likely to be shot by police compared to unarmed white civilians
2. There is substantial variation in the county-level risk ratios
    - Miami-Dade 22.88, Los Angeles 10.25, New Orleans 9.29
3. County-level risk ratios are not related to county-level race-specific crime rates
    - This finding is particularly important because black people are overrepresented in violent crime. One might otherwise use this observation to explain away elevated risk ratios
  
## Our Work builds on Ross (2015) in two ways
1. We use a newly available Washington Post database
    - likely more comprehensive
    - spans 2015-present
2. We adopt a different modeling framework, while retaining the spirit of Ross's Bayesian methods

## Our main questions
1. Are Ross's main results replicated in WashPo database?
    - black/white racial disparity, large spatial variation, disparity unaccounted for by crime rates
2. Is there temporal stability in spatial variation in risk ratios?
    - in other words, will Miami-Dade, Los Angeles, and New Orleans (and other counties with elevated risk) tend to still have higher risk ratios in the WashPo database?
  

# Stan
## What is stan
- mc-stan.org
- Bayesian statistical inference w/Markov-Chain Monte Carlo (MCMC) sampling
- Named for Stanislaw Ulam: co-inventor of Monte Carlo methods
- R Bindings (plus other languages)
## Bayesian Models
- Priors
- Posteriors
## Anatomy of a Stan Program
- Organized into blocks
- Lines are either declarations (`real[100] Counts`) or statements (`x = 5`)
- data (what you read from environment, declarations ONLY)
- transformed data (mix declarations & statements)
- parameters (declarations only)
- transformed parameters (declarations & statements; define parameters in terms of one another)
- model (sampling statements / log probability incrementers)
- generated quantities (values to store/extract later)
# Our Approach
## New Data: WaPo Database
- Collected over...
## Binomial -> Poisson Regression
- Ross's approach is based on a binomial (sum of bernoulli trials)
- But, data is captured at an aggregate count level
- Discrete counts of rare events -> Poisson distribution
- We believe the parameter of this distribution changes based on covariates
- Poisson Regression
- $log(E[Y \ mid x)) = \theta'x$ or $E(Y \mid x) = e^{\theta'x}$
## Leveraging Repeated Measurements
- Are regional disparities in shooting persistent over time?
- Introduce $\beta$...
## Parameterization
- Step 1: Shooting ~ Race | Population, Dataset
- Step 2: Shooting ~ Race | Population, Dataset, B:W Ratio
- Step 3: Shooting ~ Race | Population, Dataset, B:W Ratio, Arrest Rate Ratio
- Very limited data for Step 3 (for now)
## Model Specification
## Results
- Step 1: 
- Step 2: 
- Step 3: 
# Conclusions
- Data rangling is hard, but important
- Poor coverage of predictor variables makes modeling challenging
- Idea: Shooting Database by Department?
# Questions?
